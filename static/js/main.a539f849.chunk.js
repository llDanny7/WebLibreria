(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(58)},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(4),i=a(7),l=a(6),s=a(8),o=a(0),c=a.n(o),m=a(14),u=function(e){e.name;return c.a.createElement("button",{className:"btn btn-primary"}," Duda")},d=a(18),b=a(2),h=new(function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"getAll",value:function(){var e=JSON.parse(localStorage.getItem("GENRES"));return null==e&&(e=[]),e}},{key:"getById",value:function(e){var t=JSON.parse(localStorage.getItem("GENRES"));return null==t||0===t.length?null:t.find(function(t){return t.id===e})}},{key:"deleteById",value:function(e){var t=this.getAll();return void 0===t.find(function(t){return t.id===e})?{isOk:!1,message:"Error. No se ha encontrado el g\xe9nero."}:(t=t.filter(function(t){return t.id!==e}),localStorage.setItem("GENRES",JSON.stringify(t)),{isOk:!0,message:"El g\xe9nero se ha eliminado correctamente"})}},{key:"edit",value:function(e){if(this.existGender(e))return{isOk:!1,message:"El g\xe9nero ya existe"};var t=this.getAll(),a=t.find(function(t){return t.id===e.id});return void 0===a?{isOk:!1,message:"Error. No se ha encontrado el g\xe9nero."}:(a.name=e.name,localStorage.setItem("GENRES",JSON.stringify(t)),{isOk:!0,message:"El g\xe9nero se ha actualizado correctamente."})}},{key:"add",value:function(e){if(this.existGender(e))return{isOk:!1,message:"El g\xe9nero ya existe"};var t=this.getAll();return e.id=this.getGUID(),t.push(e),localStorage.setItem("GENRES",JSON.stringify(t)),{isOk:!0,message:"El g\xe9nero se ha a\xf1adido correctamente"}}},{key:"existGender",value:function(e){var t=JSON.parse(localStorage.getItem("GENRES")),a=!1;return null!=t&&(a=t.some(function(t){return t.name===e.name})),a}},{key:"S4",value:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}},{key:"getGUID",value:function(){return(this.S4()+this.S4()+"-"+this.S4()+"-4"+this.S4().substr(0,3)+"-"+this.S4()+"-"+this.S4()+this.S4()+this.S4()).toLowerCase()}}]),e}()),g=function(e){function t(e){var a;Object(n.a)(this,t);var r=(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).getGenreById(e.match.params.id);return a.state={name:r.name,id:r.id},a.guardarGenero=a.guardarGenero.bind(Object(b.a)(Object(b.a)(a))),a.changeHandler=a.changeHandler.bind(Object(b.a)(Object(b.a)(a))),a.getGenreById=a.getGenreById.bind(Object(b.a)(Object(b.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"getGenreById",value:function(e){var t=h.getById(e);return void 0===t?{name:"",id:void 0}:t}},{key:"changeHandler",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(d.a)({},t,a))}},{key:"guardarGenero",value:function(){var e={name:this.state.name},t=null;if(void 0===this.state.id?t=h.add(e):(e.id=this.state.id,t=h.edit(e)),alert(t.message),!t.isOk)return!1;this.props.history.push("/Generos")}},{key:"render",value:function(){return c.a.createElement("form",{className:"col-sm-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Genero"),c.a.createElement("input",{name:"name",value:this.state.name,type:"text",className:"form-control",id:"genero","aria-describedby":"emailHelp",onChange:this.changeHandler})),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.guardarGenero},"Guardar"))}}]),t}(o.Component),v=a(34),p=new(function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"getAll",value:function(){var e=JSON.parse(localStorage.getItem("BOOKS"));return null==e&&(e=[]),e}},{key:"getById",value:function(e){var t=JSON.parse(localStorage.getItem("BOOKS"));return null==t||0===t.length?null:t.find(function(t){return t.id===e})}},{key:"deleteById",value:function(e){var t=this.getAll();return void 0===t.find(function(t){return t.id===e})?{isOk:!1,message:"Error. No se ha encontrado el libro."}:(t=t.filter(function(t){return t.id!==e}),localStorage.setItem("BOOKS",JSON.stringify(t)),{isOk:!0,message:"El libro se ha eliminado correctamente"})}},{key:"edit",value:function(e){if(this.existBook(e))return{isOk:!1,message:"El libro ya existe"};var t=this.getAll(),a=t.find(function(t){return t.id===e.id});return void 0===a?{isOk:!1,message:"Error. No se ha encontrado el libro."}:(a.name=e.name,localStorage.setItem("BOOKS",JSON.stringify(t)),{isOk:!0,message:"El libro se ha actualizado correctamente."})}},{key:"add",value:function(e){if(this.existBook(e))return{isOk:!1,message:"El libro ya existe"};var t=this.getAll();return e.id=this.getGUID(),t.push(e),localStorage.setItem("BOOKS",JSON.stringify(t)),{isOk:!0,message:"El libro se ha a\xf1adido correctamente"}}},{key:"existBook",value:function(e){var t=JSON.parse(localStorage.getItem("BOOKS")),a=!1;return null!=t&&(a=t.some(function(t){return t.title===e.title})),a}},{key:"S4",value:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}},{key:"getGUID",value:function(){return(this.S4()+this.S4()+"-"+this.S4()+"-4"+this.S4().substr(0,3)+"-"+this.S4()+"-"+this.S4()+this.S4()+this.S4()).toLowerCase()}}]),e}()),O=[],f=function(e){function t(e){var a;Object(n.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).handleChange=function(e){a.setState({selectedOption:e}),console.log("Option selected:",e)},a.state={title:"",price:0,selectedOption:null},a.save=a.save.bind(Object(b.a)(Object(b.a)(a))),a.changeHandler=a.changeHandler.bind(Object(b.a)(Object(b.a)(a)));var r=h.getAll();return O=r.map(function(e){return{value:e.id,label:e.name}}),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"save",value:function(){var e=this.state,t={title:e.title,price:e.price,idGenres:e.selectedOption.map(function(e){return e.value})},a=p.add(t);alert(a.message),a.isOk&&this.props.history.push("/Libros")}},{key:"changeHandler",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(d.a)({},t,a))}},{key:"render",value:function(){var e=this.state.selectedOption;return c.a.createElement("form",{className:"col-sm-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"title"},"Libro"),c.a.createElement("input",{name:"title",value:this.state.title,type:"text",className:"form-control","aria-describedby":"emailHelp",onChange:this.changeHandler})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"price"},"Precio"),c.a.createElement("input",{name:"price",value:this.state.price,type:"numeric",className:"form-control",onChange:this.changeHandler})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"precio"},"Genero"),c.a.createElement(v.a,{isMulti:!0,name:"colors",value:e,onChange:this.handleChange,options:O,className:"basic-multi-select",classNamePrefix:"select"})),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.save},"Guardar"))}}]),t}(o.Component),E=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).eliminarFila=a.eliminarFila.bind(Object(b.a)(Object(b.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"eliminarFila",value:function(e){(0,this.props.eliminar)(e)}},{key:"editRow",value:function(e){(0,this.props.edit)(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.lista,n=t.cabecera;return c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",null,n.map(function(e,t){return c.a.createElement("th",{scope:"col",key:t}," ",e.titulo)}))),c.a.createElement("tbody",null,a.map(function(t,a){return c.a.createElement("tr",{key:a},n.map(function(e,n){return c.a.createElement("td",{key:a+n},t[e.propiedad])}),c.a.createElement("td",{key:a},c.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.editRow(t)}},"Editar"),c.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.eliminarFila(t)}}," Eliminar ")))})))}}]),t}(o.Component),y=a(13),N=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={generos:h.getAll()},a.eliminarGenero=a.eliminarGenero.bind(Object(b.a)(Object(b.a)(a))),a.edit=a.edit.bind(Object(b.a)(Object(b.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"eliminarGenero",value:function(e){var t=h.deleteById(e.id);if(!t.isOk)return alert(t.message),!1;alert(t.message),this.setState({generos:h.getAll()})}},{key:"edit",value:function(e){console.log(e),this.props.history.push({pathname:"/EditarGenero/"+e.id})}},{key:"render",value:function(){return c.a.createElement("div",{className:"col-sm-12"},c.a.createElement("div",{className:"row"},c.a.createElement("h2",null," G\xe9neros ")),c.a.createElement("div",{className:"row"},c.a.createElement(y.b,{className:"btn btn-primary",to:"/CrearGeneros"},"Crear G\xe9nero")),c.a.createElement("div",{className:"row"},c.a.createElement(E,{lista:this.state.generos,cabecera:[{titulo:"Id",propiedad:"id"},{titulo:"Nombre",propiedad:"name"}],edit:this.edit,eliminar:this.eliminarGenero})))}}]),t}(o.Component),k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={libros:p.getAll()},a.delete=a.delete.bind(Object(b.a)(Object(b.a)(a))),a.edit=a.edit.bind(Object(b.a)(Object(b.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"delete",value:function(e){var t=p.deleteById(e.id);alert(t.message),t.isOk&&this.setState({libros:p.getAll()})}},{key:"edit",value:function(){alert("No se ha implementado de momento")}},{key:"render",value:function(){return c.a.createElement("div",{className:"col-sm-12"},c.a.createElement("div",{className:"row"},c.a.createElement("h2",null," Libros ")),c.a.createElement("div",{className:"row"},c.a.createElement(y.b,{className:"btn btn-primary",to:"/CrearLibros"},"Crear Libro")),c.a.createElement("div",{className:"row"},c.a.createElement(E,{lista:this.state.libros,cabecera:[{titulo:"Id",propiedad:"id"},{titulo:"Titulo",propiedad:"title"},{titulo:"Precio",propiedad:"price"}],eliminar:this.delete,edit:this.edit})))}}]),t}(o.Component),j=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"col-sm-12"},c.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light fixed-top py-3",id:"mainNav"},c.a.createElement("div",{className:"container"},c.a.createElement("a",{className:"navbar-brand js-scroll-trigger",href:"#page-top"},"LIBRERIA REACT"),c.a.createElement("button",{className:"navbar-toggler navbar-toggler-right",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},c.a.createElement("ul",{className:"navbar-nav ml-auto my-2 my-lg-0"},c.a.createElement("li",{className:"nav-item"},c.a.createElement(y.b,{className:"nav-link js-scroll-trigger",to:"/"}," Home ")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(y.b,{className:"nav-link js-scroll-trigger",to:"/Generos"}," Generos ")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(y.b,{className:"nav-link js-scroll-trigger",to:"/Libros"}," Libros ")),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link js-scroll-trigger",href:"#contact"},"Contact")))))))}}]),t}(o.Component),S=(a(57),a(15)),G={marginTop:"70px"},I=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).state={name:"React"},e}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement(y.a,null,c.a.createElement("div",{className:"row"},c.a.createElement(j,null)),c.a.createElement("div",{className:"row",style:G},c.a.createElement(S.a,{path:"/",exact:!0,component:u}),c.a.createElement(S.a,{path:"/Generos/",component:N}),c.a.createElement(S.a,{path:"/Libros",component:k}),c.a.createElement(S.a,{path:"/CrearGeneros",component:g}),c.a.createElement(S.a,{path:"/EditarGenero/:id",component:g}),c.a.createElement(S.a,{path:"/CrearLibros",component:f})))}}]),t}(o.Component);Object(m.render)(c.a.createElement(I,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.a539f849.chunk.js.map