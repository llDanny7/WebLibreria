(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(58)},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(4),i=a(6),l=a(5),s=a(7),c=a(0),o=a.n(c),m=a(14),u=function(e){e.name;return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-2"}),o.a.createElement("div",{className:"col-sm-6"}," ",o.a.createElement("h1",null,"Los unicornios existen. RIP Dinosaurio ")),o.a.createElement("img",{src:"https://cdn160.picsart.com/upscale-239633456024212.png?r1024x1024",alt:"Unicorno"}))},d=a(18),b=a(1),p=new(function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"getAll",value:function(){var e=JSON.parse(localStorage.getItem("GENRES"));return null==e&&(e=[]),e}},{key:"getById",value:function(e){var t=JSON.parse(localStorage.getItem("GENRES"));return null==t||0===t.length?null:t.find(function(t){return t.id===e})}},{key:"deleteById",value:function(e){var t=this.getAll();return void 0===t.find(function(t){return t.id===e})?{isOk:!1,message:"Error. No se ha encontrado el g\xe9nero."}:(t=t.filter(function(t){return t.id!==e}),localStorage.setItem("GENRES",JSON.stringify(t)),{isOk:!0,message:"El g\xe9nero se ha eliminado correctamente"})}},{key:"edit",value:function(e){var t=this.getAll(),a=t.find(function(t){return t.id===e.id});return void 0===a?{isOk:!1,message:"Error. No se ha encontrado el g\xe9nero."}:e.name!==a.name&&this.existGender(e)?{isOk:!1,message:"El g\xe9nero ya existe"}:(a.name=e.name,localStorage.setItem("GENRES",JSON.stringify(t)),{isOk:!0,message:"El g\xe9nero se ha actualizado correctamente."})}},{key:"add",value:function(e){if(this.existGender(e))return{isOk:!1,message:"El g\xe9nero ya existe"};var t=this.getAll();return e.id=this.getGUID(),t.push(e),localStorage.setItem("GENRES",JSON.stringify(t)),{isOk:!0,message:"El g\xe9nero se ha a\xf1adido correctamente"}}},{key:"existGender",value:function(e){var t=JSON.parse(localStorage.getItem("GENRES")),a=!1;return null!=t&&(a=t.some(function(t){return t.name===e.name})),a}},{key:"S4",value:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}},{key:"getGUID",value:function(){return(this.S4()+this.S4()+"-"+this.S4()+"-4"+this.S4().substr(0,3)+"-"+this.S4()+"-"+this.S4()+this.S4()+this.S4()).toLowerCase()}}]),e}()),h=function(e){function t(e){var a;Object(n.a)(this,t);var r=(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).getGenreById(e.match.params.id);return a.state={name:r.name,id:r.id},a.save=a.save.bind(Object(b.a)(Object(b.a)(a))),a.changeHandler=a.changeHandler.bind(Object(b.a)(Object(b.a)(a))),a.getGenreById=a.getGenreById.bind(Object(b.a)(Object(b.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"getGenreById",value:function(e){var t=p.getById(e);return void 0===t||null===t?{name:"",id:null}:t}},{key:"changeHandler",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(d.a)({},t,a))}},{key:"save",value:function(){var e={name:this.state.name,id:this.state.id},t=null===e.id?p.add(e):p.edit(e);if(alert(t.message),!t.isOk)return!1;this.props.history.push("/Generos")}},{key:"render",value:function(){return o.a.createElement("form",{className:"col-sm-12"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Genero"),o.a.createElement("input",{name:"name",value:this.state.name,type:"text",className:"form-control",id:"genero","aria-describedby":"emailHelp",onChange:this.changeHandler})),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.save},"Guardar"))}}]),t}(c.Component),g=a(34),v=new(function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"getAll",value:function(){var e=JSON.parse(localStorage.getItem("BOOKS"));return null==e&&(e=[]),e}},{key:"getById",value:function(e){var t=JSON.parse(localStorage.getItem("BOOKS"));return null==t||0===t.length?null:t.find(function(t){return t.id===e})}},{key:"deleteById",value:function(e){var t=this.getAll();return void 0===t.find(function(t){return t.id===e})?{isOk:!1,message:"Error. No se ha encontrado el libro."}:(t=t.filter(function(t){return t.id!==e}),localStorage.setItem("BOOKS",JSON.stringify(t)),{isOk:!0,message:"El libro se ha eliminado correctamente"})}},{key:"edit",value:function(e){var t=this.getAll(),a=t.find(function(t){return t.id===e.id});return void 0===a?{isOk:!1,message:"Error. No se ha encontrado el libro."}:e.title!==a.title&&this.existBook(e)?{isOk:!1,message:"El libro ya existe"}:(a.title=e.title,a.price=e.price,a.idGenres=e.idGenres,a.description=e.description,localStorage.setItem("BOOKS",JSON.stringify(t)),{isOk:!0,message:"El libro se ha actualizado correctamente."})}},{key:"add",value:function(e){if(this.existBook(e))return{isOk:!1,message:"El libro ya existe"};var t=this.getAll();return e.id=this.getGUID(),t.push(e),localStorage.setItem("BOOKS",JSON.stringify(t)),{isOk:!0,message:"El libro se ha a\xf1adido correctamente"}}},{key:"existBook",value:function(e){var t=JSON.parse(localStorage.getItem("BOOKS")),a=!1;return null!=t&&(a=t.some(function(t){return t.title===e.title})),a}},{key:"S4",value:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}},{key:"getGUID",value:function(){return(this.S4()+this.S4()+"-"+this.S4()+"-4"+this.S4().substr(0,3)+"-"+this.S4()+"-"+this.S4()+this.S4()+this.S4()).toLowerCase()}}]),e}()),O=[],f=function(e){function t(e){var a;Object(n.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).handleChange=function(e){a.setState({selectedOption:e}),console.log("Option selected:",e)};var r=p.getAll();O=r.map(function(e){return{value:e.id,label:e.name}});var s=a.getBookById(e.match.params.id,O);return a.state={title:s.title,price:s.price,description:s.description,selectedOption:s.selectedOption,id:s.id},a.save=a.save.bind(Object(b.a)(Object(b.a)(a))),a.changeHandler=a.changeHandler.bind(Object(b.a)(Object(b.a)(a))),a.getBookById=a.getBookById.bind(Object(b.a)(Object(b.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"getBookById",value:function(e,t){var a=v.getById(e);return void 0===a||null===a?{title:"",price:0,description:"",selectedOption:null,id:null}:(a.selectedOption=a.idGenres.map(function(e){return t.find(function(t){return t.value===e})}),a)}},{key:"isValidBook",value:function(e,t){return""!==e&&void 0!==t&&t.length>0}},{key:"save",value:function(){var e=this.state,t=e.title,a=e.price,n=e.description,r=e.selectedOption,i=e.id;if(this.isValidBook(t,r)){var l={title:t,price:a,description:n,idGenres:r.map(function(e){return e.value}),id:i},s=null===i?v.add(l):v.edit(l);alert(s.message),s.isOk&&this.props.history.push("/Libros")}else alert("Los datos son invalidos")}},{key:"changeHandler",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(d.a)({},t,a))}},{key:"render",value:function(){var e=this.state.selectedOption;return o.a.createElement("form",{className:"col-sm-12"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"title"},"Libro"),o.a.createElement("input",{name:"title",value:this.state.title,type:"text",className:"form-control","aria-describedby":"emailHelp",onChange:this.changeHandler})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"description"},"Descripci\xf3n"),o.a.createElement("input",{name:"description",value:this.state.description,type:"text",className:"form-control","aria-describedby":"emailHelp",onChange:this.changeHandler})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"price"},"Precio"),o.a.createElement("input",{name:"price",value:this.state.price,type:"numeric",className:"form-control",onChange:this.changeHandler})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"precio"},"Genero"),o.a.createElement(g.a,{isMulti:!0,name:"colors",value:e,onChange:this.handleChange,options:O,className:"basic-multi-select",classNamePrefix:"select"})),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.save},"Guardar"))}}]),t}(c.Component),E=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).eliminarFila=a.eliminarFila.bind(Object(b.a)(Object(b.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"eliminarFila",value:function(e){(0,this.props.eliminar)(e)}},{key:"editRow",value:function(e){(0,this.props.edit)(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.lista,n=t.cabecera;return o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",null,n.map(function(e,t){return o.a.createElement("th",{scope:"col",key:t}," ",e.titulo)}))),o.a.createElement("tbody",null,a.map(function(t,a){return o.a.createElement("tr",{key:a},n.map(function(e,n){return o.a.createElement("td",{key:a+n},t[e.propiedad])}),o.a.createElement("td",{key:a},o.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.editRow(t)}},"Editar"),o.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.eliminarFila(t)}}," Eliminar ")))})))}}]),t}(c.Component),y=a(10),k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={generos:p.getAll()},a.eliminarGenero=a.eliminarGenero.bind(Object(b.a)(Object(b.a)(a))),a.edit=a.edit.bind(Object(b.a)(Object(b.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"eliminarGenero",value:function(e){var t=p.deleteById(e.id);if(!t.isOk)return alert(t.message),!1;alert(t.message),this.setState({generos:p.getAll()})}},{key:"edit",value:function(e){console.log(e),this.props.history.push({pathname:"/EditarGenero/"+e.id})}},{key:"render",value:function(){return o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("div",{className:"row"},o.a.createElement("h2",null," G\xe9neros ")),o.a.createElement("div",{className:"row"},o.a.createElement(y.b,{className:"btn btn-primary",to:"/CrearGeneros"},"Crear G\xe9nero")),o.a.createElement("div",{className:"row"},o.a.createElement(E,{lista:this.state.generos,cabecera:[{titulo:"Id",propiedad:"id"},{titulo:"Nombre",propiedad:"name"}],edit:this.edit,eliminar:this.eliminarGenero})))}}]),t}(c.Component),N=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={libros:v.getAll()},a.delete=a.delete.bind(Object(b.a)(Object(b.a)(a))),a.edit=a.edit.bind(Object(b.a)(Object(b.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"delete",value:function(e){var t=v.deleteById(e.id);alert(t.message),t.isOk&&this.setState({libros:v.getAll()})}},{key:"edit",value:function(e){this.props.history.push({pathname:"/EditarLibro/"+e.id})}},{key:"render",value:function(){return o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("div",{className:"row"},o.a.createElement("h2",null," Libros ")),o.a.createElement("div",{className:"row"},o.a.createElement(y.b,{className:"btn btn-primary",to:"/CrearLibros"},"Crear Libro")),o.a.createElement("div",{className:"row"},o.a.createElement(E,{lista:this.state.libros,cabecera:[{titulo:"Id",propiedad:"id"},{titulo:"Titulo",propiedad:"title"},{titulo:"Precio",propiedad:"price"}],eliminar:this.delete,edit:this.edit})))}}]),t}(c.Component),j=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.book;return o.a.createElement("div",{className:"card"},o.a.createElement("img",{className:"card-img-top",src:"https://upload.wikimedia.org/wikipedia/commons/a/a0/Book_icoline.svg",alt:"Card image cap"}),o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"}," ",e.title),o.a.createElement("p",{className:"card-text"}," ",e.description),o.a.createElement("a",{href:"#",className:"btn btn-primary"},"Go somewhere")))}}]),t}(c.Component),S=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={books:v.getAll()},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state.books;return o.a.createElement("div",{className:"row"},e.map(function(e,t){return o.a.createElement(j,{key:t,book:e})}))}}]),t}(c.Component),G=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light fixed-top py-3",id:"mainNav"},o.a.createElement("div",{className:"container"},o.a.createElement("a",{className:"navbar-brand js-scroll-trigger",href:"#page-top"},"LIBRERIA REACT"),o.a.createElement("button",{className:"navbar-toggler navbar-toggler-right",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},o.a.createElement("ul",{className:"navbar-nav ml-auto my-2 my-lg-0"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(y.b,{className:"nav-link js-scroll-trigger",to:"/"}," Home ")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(y.b,{className:"nav-link js-scroll-trigger",to:"/Generos"}," Admin. Generos ")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(y.b,{className:"nav-link js-scroll-trigger",to:"/Libros"}," Admin. Libros ")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(y.b,{className:"nav-link js-scroll-trigger",to:"/LibrosHome"}," Libros ")))))))}}]),t}(c.Component),I=(a(57),a(15)),B={marginTop:"70px"},C=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).state={name:"React"},e}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement(y.a,null,o.a.createElement("div",{className:"row"},o.a.createElement(G,null)),o.a.createElement("div",{className:"row",style:B},o.a.createElement(I.a,{path:"/",exact:!0,component:u}),o.a.createElement(I.a,{path:"/LibrosHome",exact:!0,component:S}),o.a.createElement(I.a,{path:"/Generos/",component:k}),o.a.createElement(I.a,{path:"/Libros",component:N}),o.a.createElement(I.a,{path:"/CrearGeneros",component:h}),o.a.createElement(I.a,{path:"/EditarGenero/:id",component:h}),o.a.createElement(I.a,{path:"/CrearLibros",component:f}),o.a.createElement(I.a,{path:"/EditarLibro/:id",component:f})))}}]),t}(c.Component);Object(m.render)(o.a.createElement(C,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.b8b3f708.chunk.js.map